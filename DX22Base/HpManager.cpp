/* ========================================
	HEW/UniBoooom!!
	------------------------------------
	HPテクスチャ表示管理用cpp
	------------------------------------
	HpManager.cpp
	------------------------------------
	作成者	仁枝潤哉

	変更履歴
	・2023/11/16 新規作成 仁枝潤哉

========================================== */

// =============== インクルード ===================
#include "HpManager.h"

/* ========================================
	コンストラクタ関数
	-------------------------------------
	内容：生成時に行う処理
	-------------------------------------
	引数：プレイヤーのHPのアドレス
	-------------------------------------
	戻値：なし
=========================================== */
CHpManager::CHpManager(const int* nHp)
{
	m_pnPlayerHp = nHp;		// プレイヤーのHPのアドレスを格納

	for (int i = 0; i < MAX_HP; ++i)
	{
		m_pUI[i] = new CHpUI();		// HpUIクラスをインスタンス
		m_pUI[i]->Update();			// 表示フラグをON
	}
}

/* ========================================
	デストラクタ関数
	-------------------------------------
	内容：破棄時に行う処理
	-------------------------------------
	引数：なし
	-------------------------------------
	戻値：なし
=========================================== */
CHpManager::~CHpManager()
{
	for (int i = 0; i < MAX_HP; ++i)
	{
		SAFE_DELETE(m_pUI[i]);
	}
}

/* ========================================
	更新関数
	-------------------------------------
	内容：HPの更新処理
	-------------------------------------
	引数：なし
	-------------------------------------
	戻値：なし
=========================================== */
void CHpManager::Update()
{

}

/* ========================================
	描画関数
	-------------------------------------
	内容：HPの描画処理
	-------------------------------------
	引数：なし
	-------------------------------------
	戻値：なし
=========================================== */
void CHpManager::Draw()
{
	for (int i = 0; i < *m_pnPlayerHp; ++i)
	{
		if (m_pUI[i])	// HPのテクスチャを表示
		{
			m_pUI[i]->Draw(70.0f * (float)(i + 0.8), 50.0f, 80.0f, 80.0f);
		}
	}
}
