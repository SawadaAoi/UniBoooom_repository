/* ========================================
	HEW/UniBoooom!!
	---------------------------------------
	シーン管理実装
	---------------------------------------
	SceneManager.cpp

	作成者	takagi

	変更履歴
	・2023/10/24 仮制作 takagi
	・2023/11/05 現段階のコーディング規約適用 takagi
	・2023/11/07 コメント修正 takagi

========================================== */

// =============== インクルード ===================
#include "SceneManager.h"	//自身のヘッダ
#include "Prot.h"			//インスタンス候補

// =============== 定数定義 ===================
#define MODE_PROTTYPE (true)	//プロトタイプであるか



/* ========================================
	コンストラクタ
	----------------------------------------
	内容：生成時に行う処理
	----------------------------------------
	引数1：なし
	----------------------------------------
	戻値：なし
=========================================== */
CSceneManager::CSceneManager()
	:m_pScene(nullptr)	//シーン
{
#if MODE_PROTTYPE
	if (!m_pScene)	//ヌルチェック
	{
		// =============== 動的確保 ===================
		m_pScene = new CProt();	//プロトタイプシーン作成
	}
#endif
}

/* ========================================
	デストラクタ
	----------------------------------------
	内容：破棄時に行う処理
	----------------------------------------
	引数1：なし
	----------------------------------------
	戻値：なし
=========================================== */
CSceneManager::~CSceneManager()
{
	// =============== 終了 ===================
	if (m_pScene)	//ヌルチェック
	{
		delete m_pScene;	//メモリ開放
		m_pScene = nullptr;	//空アドレス代入
	}
}

/* ========================================
	更新関数
	----------------------------------------
	内容：更新処理
	----------------------------------------
	引数1：なし
	----------------------------------------
	戻値：なし
=========================================== */
void CSceneManager::Update()
{
	// =============== 更新 ===================
	if (m_pScene)	//ヌルチェック
	{
		m_pScene->Update();	//シーン更新
	}
}

/* ========================================
	描画関数
	----------------------------------------
	内容：描画処理
	----------------------------------------
	引数1：なし
	----------------------------------------
	戻値：なし
=========================================== */
void CSceneManager::Draw() const
{
	// =============== 描画 ===================
	if (m_pScene)	//ヌルチェック
	{
		m_pScene->Draw();	//シーン描画
	}
}