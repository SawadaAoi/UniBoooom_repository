/* ========================================
	HEW/UniBoooom!!
	------------------------------------
	ビット式フラグ実装(char型)
	------------------------------------
	UcFlag.cpp
	------------------------------------
	作成者	takagi

	変更履歴
	・2024/01/18 作成 takagi
	・2024/01/20 コンストラクタ引数追加 takagi

========================================== */

// =============== インクルード ===================
#include "UcFlag.h"	//自身のヘッダ

/* ========================================
	コンストラクタ関数
	-------------------------------------
	内容：生成時に行う処理
	-------------------------------------
	引数1：const unsigned char& ucFlag：フラグの初期値
	-------------------------------------
	戻値：なし
=========================================== */
CUcFlag::CUcFlag(const unsigned char& ucFlag)
	:m_ucFlag(ucFlag)	//フラグ本体
{
}

/* ========================================
	コピーコンストラクタ関数
	-------------------------------------
	内容：コピー時に行う処理
	-------------------------------------
	引数1：const CUcFlag & Obj：コピー元の参照
	-------------------------------------
	戻値：なし
=========================================== */
CUcFlag::CUcFlag(const CUcFlag & Obj)
	:m_ucFlag(Obj.m_ucFlag)	//フラグ複製
{
}

/* ========================================
	デストラクタ関数
	-------------------------------------
	内容：破棄時に行う処理
	-------------------------------------
	引数1：なし
	-------------------------------------
	戻値：なし
=========================================== */
CUcFlag::~CUcFlag()
{
}

/* ========================================
	フラグオン関数
	-------------------------------------
	内容：フラグを立てる
	-------------------------------------
	引数1：const unsigned char& ucFlag：対象フラグ
	-------------------------------------
	戻値：なし
=========================================== */
void CUcFlag::Up(const unsigned char& ucFlag)
{
	// =============== フラグ管理 ===================
	m_ucFlag |= ucFlag;	//フラグオン
}

/* ========================================
	フラグオフ関数
	-------------------------------------
	内容：フラグを降ろす
	-------------------------------------
	引数1：const unsigned char& ucFlag：対象フラグ
	-------------------------------------
	戻値：なし
=========================================== */
void CUcFlag::Down(const unsigned char& ucFlag)
{
	// =============== フラグ管理 ===================
	m_ucFlag &= (ucFlag ^ 0xFF);	//フラグオフ
}

/* ========================================
	フラグチェック関数
	-------------------------------------
	内容：フラグを論理積で検査し、成否を判定する
	-------------------------------------
	引数1：const unsigned char& ucFlag：対象フラグ
	-------------------------------------
	戻値：なし
=========================================== */
bool CUcFlag::Check(const unsigned char & ucFlag) const
{
	// =============== 提供 ===================
	return (m_ucFlag & ucFlag);	//論理積演算結果
}

/* ========================================
	フラグ提供関数
	-------------------------------------
	内容：フラグの内容を提供
	-------------------------------------
	引数1：なし
	-------------------------------------
	戻値：フラグの参照(変更不可)
=========================================== */
const unsigned char& CUcFlag::GetFlag() const
{
	// =============== 提供 ===================
	return m_ucFlag;	//フラグ提供
}